import{d as h,f as n,c,a as t,u as g,p as m,g as x,h as f,_ as i,t as d,r as v,o as b,w as S,v as I,F as T,i as B,j as p}from"./index.5d5f56b5.js";import{a as $,s as w}from"./index.7f816fe0.js";const L=""+new URL("Logo.7e0ac421.svg",import.meta.url).href,y=e=>(m("data-v-10ca9bea"),e=e(),x(),e),N={class:"header glass"},k={class:"logo"},V=["src"],C=y(()=>t("h1",null,[f("MDX"),t("span",null,"12"),f("C")],-1)),M=y(()=>t("i",{class:"bx bx-log-out-circle bx-rotate-180"},null,-1)),E=[M],O=h({__name:"header",setup(e){const s=()=>{localStorage.clear(),location.assign("/")};return(a,r)=>(n(),c("div",N,[t("div",k,[t("img",{src:g(L),alt:"logo"},null,8,V),C]),t("button",{onClick:s},E)]))}});const K=i(O,[["__scopeId","data-v-10ca9bea"]]),U={class:"userPanel glass"},D={class:"avatar"},F={class:"username"},H=h({__name:"userPanel",setup(e){const s=localStorage.getItem("username");return(a,r)=>{var u,o;return n(),c("div",U,[t("div",D,d((o=(u=g(s))==null?void 0:u.split("").at(0))==null?void 0:o.toUpperCase()),1),t("div",F,d(g(s)),1)])}}});const j=i(H,[["__scopeId","data-v-95ef4512"]]),q=async e=>{try{return(await $({method:"POST",url:`${w}/post/`,data:{TOKEN:e}})).data.data}catch{return alert("Something went wrong, try once later!"),null}},A=async e=>{try{const s=await $({method:"PUT",url:`${w}/post`,data:{TOKEN:localStorage.getItem("TOKEN"),data:e}});return console.log(s.data),s.data}catch{return alert("Something went wrong, try once later!"),null}},G=e=>(m("data-v-54dea2a6"),e=e(),x(),e),R={class:"posts"},W={class:"newPost glass"},X=["innerHTML"],z={class:"postList"},J={class:"post glass"},Q={class:"title"},Y={class:"avatar"},Z={class:"username"},tt={class:"content"},et=G(()=>t("div",{class:"functions"},[t("div",{class:"replies"},[t("i",{class:"bx bx-reply"})])],-1)),st=h({__name:"posts",setup(e){const s=v([]),a=v(""),r=v("Post");b(()=>{const o=localStorage.getItem("TOKEN");q(String(o)).then(_=>{console.log(_),s.value=_})});const u=()=>{if(a.value=="")return;alert(`Confirm Posting:
 Are you sure to post new post?`);const o={author:String(localStorage.getItem("username")),content:a.value,title:""};console.log(o),r.value="<i class='bx bxs-circle-quarter bx-spin' ></i>",A(o).then(_=>{r.value="Post",location.reload()})};return(o,_)=>(n(),c("div",R,[t("div",W,[S(t("textarea",{"onUpdate:modelValue":_[0]||(_[0]=l=>a.value=l),placeholder:"Say something..."},null,512),[[I,a.value]]),t("button",{onClick:u,innerHTML:r.value},null,8,X)]),t("div",z,[(n(!0),c(T,null,B(s.value,l=>(n(),c("div",J,[t("div",Q,[t("div",Y,d(l.author.split("").at(0)),1),t("div",Z,d(l.author),1)]),t("div",tt,d(l.content),1),et]))),256))])]))}});const ot=i(st,[["__scopeId","data-v-54dea2a6"]]);const at={},P=e=>(m("data-v-7cc39afb"),e=e(),x(),e),nt={class:"linkBoard glass"},ct=P(()=>t("h1",null,"Links Board",-1)),_t=P(()=>t("div",{class:"list"},[t("a",{href:"https://www3.mingdao.edu.tw/"},"Mingdao Website")],-1)),rt=[ct,_t];function lt(e,s){return n(),c("div",nt,rt)}const dt=i(at,[["render",lt],["__scopeId","data-v-7cc39afb"]]),it={class:"postPage"},ut={class:"content"},pt=h({__name:"Post",setup(e){return(s,a)=>(n(),c("div",it,[p(K),t("div",ut,[p(j),p(ot),p(dt)])]))}});const gt=i(pt,[["__scopeId","data-v-07643010"]]);export{gt as default};
