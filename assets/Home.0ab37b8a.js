import{d as g,r,o as h,R as d,c as p,a as o,w as _,v,t as f,b as w,e as x,f as m,p as y,g as S,h as T,_ as I}from"./index.5d5f56b5.js";import{a as b,s as H}from"./index.7f816fe0.js";const K=async(a,e)=>{try{const t=await b({method:"POST",url:`${H}/auth/login`,data:{username:a,password:e}});return console.log(t.data),t.data}catch{return alert("Something went wrong, try once later!"),null}},L=a=>(y("data-v-54049247"),a=a(),S(),a),M={class:"home"},N=["onKeyup"],V=L(()=>o("h1",null,[T("Welcome to "),o("span",null,"MDX12C")],-1)),k={key:0},B=["innerHTML"],C=g({__name:"Home",setup(a){const e=r([]),t=r(""),l=r(!1),u=r("Login"),i=()=>{!e.value[0]||!e.value[1]||(u.value="<i class='bx bxs-circle-quarter bx-spin' ></i>",K(e.value[0],e.value[1]).then(s=>{if(u.value="Login",s.error_code===1)l.value=!0,t.value="User name error";else if(s.error_code===0)l.value=!0,t.value="Wrong Password";else{localStorage.setItem("TOKEN",s.data),localStorage.setItem("username",e.value[0]),d.push("/~");return}}))};return h(()=>{localStorage.getItem("TOKEN")&&d.push("/~")}),(s,n)=>(m(),p("div",M,[o("div",{class:"wrap",onKeyup:x(i,["enter"])},[V,_(o("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>e.value[0]=c),type:"username",placeholder:"Username"},null,512),[[v,e.value[0]]]),_(o("input",{"onUpdate:modelValue":n[1]||(n[1]=c=>e.value[1]=c),type:"password",placeholder:"Password"},null,512),[[v,e.value[1]]]),l.value?(m(),p("p",k,f(t.value),1)):w("",!0),o("button",{onClick:i,innerHTML:u.value},null,8,B)],40,N)]))}});const E=I(C,[["__scopeId","data-v-54049247"]]);export{E as default};
